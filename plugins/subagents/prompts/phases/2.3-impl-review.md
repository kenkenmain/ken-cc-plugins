# Phase 2.3: Implementation Review [PHASE 2.3]

## Subagent Config

- **Primary:** `state.reviewer` (codex-reviewer or claude-reviewer)
- **Supplementary (parallel):**
  - `pr-review-toolkit:code-reviewer` — code quality, style, project conventions
  - `pr-review-toolkit:silent-failure-hunter` — silent failures, swallowed errors, bad fallbacks
  - `pr-review-toolkit:type-design-analyzer` — type design, encapsulation, invariants
- **Criteria:** `prompts/high-stakes/implementation.md`
- **Input:** `.agents/tmp/phases/1.2-plan.md`, git diff
- **Output:** `.agents/tmp/phases/2.3-impl-review.json`

## Instructions

Review implementation against the plan and high-stakes criteria. Dispatch primary reviewer and supplementary agents in parallel.

### Process

1. Read the review criteria from `prompts/high-stakes/implementation.md`
2. Read the plan from `.agents/tmp/phases/1.2-plan.md`
3. Get list of modified files from `.agents/tmp/phases/2.1-tasks.json`
4. Dispatch primary reviewer and all supplementary agents **in parallel**
5. Aggregate issues from all agents into a single `issues[]` array, tagging each with `"source"` field
6. Write structured JSON result to `.agents/tmp/phases/2.3-impl-review.json`

### Output

Write JSON to `.agents/tmp/phases/2.3-impl-review.json` with: `status`, `issues[]`, `filesReviewed`, `summary`

Each issue in `issues[]` includes `"source": "<agent-type>"` (e.g., `"subagents:codex-reviewer"`, `"pr-review-toolkit:silent-failure-hunter"`).

### If Issues Found

Same retry logic as Phase 1.3: fix, re-review, repeat until approved or max retries.
