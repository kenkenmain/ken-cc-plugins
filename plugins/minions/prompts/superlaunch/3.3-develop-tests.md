# Phase 3.3: Develop Tests & CI [PHASE 3.3]

## Subagent Config

- **Type:** `subagents:test-developer` (reads from `state.testDeveloper`)
- **Output:** `.agents/tmp/phases/3.3-test-dev.json`

## Input Files

- `.agents/tmp/phases/3.1-test-results.json` (coverage baseline)
- `.agents/tmp/phases/3.2-analysis.md` (failure analysis — what needs fixing)
- `.agents/tmp/phases/1.2-plan.md` (what was planned)
- `.agents/tmp/phases/2.1-tasks.json` (what was implemented — check each task's `testsWritten` array for tests already written during implementation)

## Coverage Config

- Threshold: `state.coverageThreshold` (default: 90)
- Max iterations: 20
- Web search: `state.webSearch` (default: true) — search for testing libraries

## Gap-Filler Mode

This agent runs AFTER implementation (Phase 2.1), where task-agents may have already written tests alongside their code. Before entering the coverage loop:

1. Read `.agents/tmp/phases/2.1-tasks.json`
2. Extract all `testsWritten` entries from completed tasks
3. Build a set of already-tested files and functions
4. In the coverage loop, **skip or deprioritize** files/functions that already have tests from implementation
5. Focus coverage efforts on code that has NO tests yet

## Output File

- `.agents/tmp/phases/3.3-test-dev.json`
