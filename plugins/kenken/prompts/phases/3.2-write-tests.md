# Phase 3.2: Write Tests [PHASE 3.2]

## Subagent Config

- **Type:** general-purpose (single subagent)
- **Input:** `.agents/tmp/kenken/phases/3.1-test-plan.md`
- **Output:** `.agents/tmp/kenken/phases/3.2-tests-written.md`

## Instructions

Write test files based on the test plan, following project conventions.

### Process

1. Read test plan from `.agents/tmp/kenken/phases/3.1-test-plan.md`
2. Read project testing instructions from config
3. For each test case in the plan:
   - Create or modify the appropriate test file
   - Write test code using the detected/configured framework
   - Include assertions for expected behavior
   - Follow project naming and organization conventions
4. Write summary of all tests written to output file

### Test Writing Standards

**Structure:**
- One test file per source module (follow project pattern)
- Group related tests using describe/context blocks
- Use descriptive test names that explain the expected behavior
- Each test tests exactly one behavior

**Assertions:**
- Use specific assertions (not just truthy/falsy)
- Assert on exact expected values where possible
- Verify error types, messages, and codes for error conditions
- Check both positive and negative cases

**Independence:**
- Each test must be independent — no shared mutable state
- Setup/teardown in beforeEach/afterEach (not global)
- Tests must pass in any order

**Coverage Goals:**
- Happy path with realistic data
- Error conditions with expected error behavior
- Boundary values (empty, null, max, min, zero)
- Edge cases identified in the test plan

### What NOT To Do

- Do not mock internal implementation details — test behavior, not implementation
- Do not write tests that always pass (must have meaningful assertions)
- Do not create flaky tests (avoid timing-dependent assertions)
- Do not duplicate test coverage — each behavior tested once

## Output Format

Write to `.agents/tmp/kenken/phases/3.2-tests-written.md`:

```
# Tests Written

## Test Files Created/Modified

### {test file path}
- Tests: {count}
- Covers: {source file or module}
- Cases: happy path, edge cases, error conditions

### {test file path}
...

## Summary
- Total test files: N
- Total test cases: N
- Frameworks used: {framework}
```
