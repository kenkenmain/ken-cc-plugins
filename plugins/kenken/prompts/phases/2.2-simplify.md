# Phase 2.2: Simplify [PHASE 2.2]

## Subagent Config

- **Type:** code-simplifier (`code-simplifier:code-simplifier`)
- **Input:** `.agents/tmp/kenken/phases/2.1-tasks.json`
- **Output:** `.agents/tmp/kenken/phases/2.2-simplify.md`

## Instructions

Review implemented code for simplification opportunities. Reduce complexity while preserving all functionality.

### Process

1. Read `.agents/tmp/kenken/phases/2.1-tasks.json` to get list of modified files
2. Launch code-simplifier agent on each modified file
3. Review each file for:
   - Unnecessary complexity
   - Duplicate code that can be extracted
   - Over-engineering (abstractions without justification)
   - Missing simplifications (verbose patterns that have idiomatic alternatives)
   - Dead code or unreachable branches
4. Apply appropriate simplifications directly
5. Verify no functionality is broken after each change
6. Write summary to output file

### Simplification Criteria

| Category | Look For | Action |
| -------- | -------- | ------ |
| Duplication | Repeated code blocks (3+ lines, 2+ occurrences) | Extract to shared function |
| Over-abstraction | Interfaces with single implementation | Inline or simplify |
| Verbose patterns | Manual loops where map/filter/reduce suffice | Use idiomatic alternative |
| Dead code | Unreachable branches, unused imports | Remove |
| Nested complexity | >3 levels of nesting | Extract to helper or early return |

### Constraints

- Do NOT change public APIs or function signatures
- Do NOT remove error handling or logging
- Do NOT simplify security-related code (auth, validation, sanitization)
- Preserve all test-observable behavior

## Output Format

Write to `.agents/tmp/kenken/phases/2.2-simplify.md`:

```
# Simplification Report

## Changes Made
- {file}: {description of simplification}
- {file}: {description of simplification}

## No Changes Needed
- {file}: already clean

## Metrics
- Files reviewed: N
- Files simplified: N
- Lines removed: N
```
